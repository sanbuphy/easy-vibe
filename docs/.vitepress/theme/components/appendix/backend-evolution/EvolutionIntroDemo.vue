<template>
  <div class="evolution-intro-demo">
    <div class="intro-header">
      <h3>åç«¯æ¶æ„è¿›åŒ–ä¹‹æ—…</h3>
      <p>ç”¨ä¸€ä¸ªé¤å…çš„æˆé•¿å†ç¨‹ï¼Œç†è§£åç«¯æ¶æ„çš„ 30 å¹´å˜è¿</p>
    </div>

    <div class="timeline-cards">
      <div
        v-for="(stage, idx) in stages"
        :key="idx"
        class="stage-card"
        :class="{ active: currentStage === idx }"
        @click="currentStage = idx"
      >
        <div class="stage-era">{{ stage.era }}</div>
        <div class="stage-icon">{{ stage.icon }}</div>
        <div class="stage-name">{{ stage.name }}</div>
        <div class="stage-arch">{{ stage.arch }}</div>
      </div>
    </div>

    <div class="stage-detail">
      <Transition name="fade" mode="out-in">
        <div :key="currentStage" class="detail-panel">
          <div class="detail-header">
            <span class="detail-icon">{{ stages[currentStage].icon }}</span>
            <h4>{{ stages[currentStage].restaurant }}</h4>
          </div>
          <div class="detail-content">
            <div class="detail-section">
              <h5>ğŸ½ï¸ é¤å…åœºæ™¯</h5>
              <p>{{ stages[currentStage].scenario }}</p>
            </div>
            <div class="detail-section">
              <h5>ğŸ’» åç«¯æ˜ å°„</h5>
              <p>{{ stages[currentStage].mapping }}</p>
            </div>
            <div class="detail-section">
              <h5>âš¡ æ ¸å¿ƒç—›ç‚¹</h5>
              <ul>
                <li v-for="(pain, i) in stages[currentStage].pains" :key="i">{{ pain }}</li>
              </ul>
            </div>
          </div>
        </div>
      </Transition>
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'

const currentStage = ref(0)

const stages = [
  {
    era: '1990s',
    icon: 'ğŸ ',
    name: 'å®¶åº­å°ä½œåŠ',
    arch: 'ç‰©ç†æœåŠ¡å™¨',
    restaurant: 'å®¶åº­å°å¨æˆ¿',
    scenario: 'ä¸€ä½å¨å¸ˆåœ¨ä¸€é—´å°å¨æˆ¿é‡Œï¼Œäº²è‡ªå»èœå¸‚åœºä¹°èœã€æ´—èœã€åˆ‡èœã€ç‚’èœã€ä¸Šèœã€‚å®¢äººå¤šäº†å°±å¿™ä¸è¿‡æ¥ï¼Œåªèƒ½è®©å®¢äººæ’é˜Ÿç­‰ã€‚',
    mapping: 'ä¸€å°ç‰©ç†æœåŠ¡å™¨ï¼Œå¤„ç†æ‰€æœ‰è¯·æ±‚ï¼šæ¥æ”¶HTTPè¯·æ±‚ã€è¯»å–æ–‡ä»¶ã€æ‰§è¡ŒCGIè„šæœ¬ã€è¿”å›å“åº”ã€‚CPUå’Œå†…å­˜æœ‰é™ï¼Œè¯·æ±‚å¤šäº†åªèƒ½æ’é˜Ÿã€‚',
    pains: [
      'å•æœºæ€§èƒ½ç“¶é¢ˆï¼šå®¢äººå¤ªå¤šæ—¶ï¼Œå¨å¸ˆæ ¹æœ¬å¿™ä¸è¿‡æ¥',
      'å‚ç›´æ‰©å±•æˆæœ¬é«˜ï¼šä¹°æ›´è´µçš„æœºå™¨å°±åƒæ¢æ›´å¤§çš„å¨æˆ¿ï¼Œæ²»æ ‡ä¸æ²»æœ¬',
      'å•ç‚¹æ•…éšœï¼šå¨å¸ˆç”Ÿç—…äº†ï¼Œæ•´ä¸ªé¤é¦†å¿…é¡»å…³é—¨'
    ]
  },
  {
    era: '2000s',
    icon: 'ğŸ¢',
    name: 'å¤§å‹ä¸­å¤®å¨æˆ¿',
    arch: 'å•ä½“æ¶æ„',
    restaurant: 'è¿é”é¤å…ä¸­å¤®å¨æˆ¿',
    scenario: 'å»ºç«‹äº†ä¸€ä¸ªå¤§å‹ä¸­å¤®å¨æˆ¿ï¼Œåˆ†å·¥æ˜ç¡®ï¼šæœ‰äººä¸“é—¨æ´—èœã€æœ‰äººä¸“é—¨åˆ‡èœã€æœ‰äººä¸“é—¨ç‚’èœã€‚ä½†æ‰€æœ‰äººéƒ½åœ¨ä¸€ä¸ªå¤§ç©ºé—´é‡Œå·¥ä½œï¼Œäº’ç›¸ä¾èµ–ã€‚',
    mapping: 'å•ä½“åº”ç”¨æ¶æ„ï¼šæ‰€æœ‰åŠŸèƒ½æ¨¡å—ï¼ˆç”¨æˆ·ã€è®¢å•ã€æ”¯ä»˜ï¼‰éƒ½åœ¨åŒä¸€ä¸ªè¿›ç¨‹ä¸­è¿è¡Œï¼Œå…±äº«åŒä¸€ä¸ªæ•°æ®åº“ï¼Œéƒ¨ç½²åœ¨ä¸€ä¸ªå¤§åº”ç”¨æœåŠ¡å™¨ä¸Šã€‚',
    pains: [
      'ç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ï¼šåˆ‡èœå¸ˆå‚…åˆ‡åˆ°æ‰‹ï¼Œæ•´ä¸ªå¨æˆ¿éƒ½è¦åœä¸‹æ¥',
      'æŠ€æœ¯å€ºåŠ¡ç´¯ç§¯ï¼šè€å‘˜å·¥ï¼ˆè€ä»£ç ï¼‰è¶Šæ¥è¶Šå¤šï¼Œæ–°äººå¾ˆéš¾æ¥æ‰‹',
      'éƒ¨ç½²é£é™©é«˜ï¼šæ›´æ–°ä¸€ä¸ªèœå“ï¼ˆåŠŸèƒ½ï¼‰å¯èƒ½å½±å“æ•´ä¸ªèœå•ï¼ˆç³»ç»Ÿï¼‰'
    ]
  },
  {
    era: '2010s',
    icon: 'ğŸ­',
    name: 'ä¸“ä¸šåŒ–åˆ†å·¥',
    arch: 'å¾®æœåŠ¡æ¶æ„',
    restaurant: 'é¤é¥®é›†å›¢å¤šå¨æˆ¿',
    scenario: 'æŠŠä¸­å¤®å¨æˆ¿æ‹†åˆ†æˆå¤šä¸ªä¸“ä¸šå¨æˆ¿ï¼šä¸€ä¸ªä¸“é—¨åšä¸­é¤ã€ä¸€ä¸ªä¸“é—¨åšè¥¿é¤ã€ä¸€ä¸ªä¸“é—¨åšç”œç‚¹ã€‚æ¯ä¸ªå¨æˆ¿ç‹¬ç«‹è¿è¥ï¼Œé€šè¿‡æ ‡å‡†åŒ–æµç¨‹åä½œã€‚',
    mapping: 'å¾®æœåŠ¡æ¶æ„ï¼šæ¯ä¸ªä¸šåŠ¡åŠŸèƒ½ï¼ˆç”¨æˆ·æœåŠ¡ã€è®¢å•æœåŠ¡ã€æ”¯ä»˜æœåŠ¡ï¼‰éƒ½æ˜¯ç‹¬ç«‹çš„è¿›ç¨‹ï¼Œæœ‰è‡ªå·±çš„æ•°æ®åº“ï¼Œé€šè¿‡HTTP/gRPCé€šä¿¡ã€‚',
    pains: [
      'åˆ†å¸ƒå¼å¤æ‚åº¦ï¼šåè°ƒå¤šä¸ªå¨æˆ¿æ¯”ç®¡ç†ä¸€ä¸ªå¨æˆ¿éš¾å¾—å¤š',
      'ç½‘ç»œä¾èµ–ï¼šä¸­é¤å¨æˆ¿éœ€è¦è¥¿é¤å¨æˆ¿çš„åŸæ–™æ—¶ï¼Œå¯èƒ½ç½‘ç»œå»¶è¿Ÿæˆ–æ•…éšœ',
      'è¿ç»´æˆæœ¬æ¿€å¢ï¼šéœ€è¦æ›´å¤šäººæ‰‹ï¼ˆè¿ç»´å·¥ç¨‹å¸ˆï¼‰æ¥ç®¡ç†è¿™ä¹ˆå¤šå¨æˆ¿'
    ]
  },
  {
    era: '2020s+',
    icon: 'ğŸ½ï¸',
    name: 'å¤–å–å¹³å°',
    arch: 'Serverless',
    restaurant: 'å¤–å–/äº‘å¨æˆ¿',
    scenario: 'ä½ ä¸å†è‡ªå·±å¼€å¨æˆ¿ï¼Œè€Œæ˜¯åœ¨å¤–å–å¹³å°ä¸Šæ³¨å†Œã€‚æœ‰è®¢å•æ—¶ï¼Œå¹³å°è°ƒåº¦é™„è¿‘çš„å¨æˆ¿ä¸ºä½ åˆ¶ä½œé£Ÿç‰©ã€‚ä½ åªç®¡è®¾è®¡èœå“å’Œæ¨å¹¿ï¼Œä¸ç”¨å…³å¿ƒå¨æˆ¿åœ¨å“ªã€æœ‰å¤šå°‘å¨å¸ˆã€‚',
    mapping: 'Serverlessæ¶æ„ï¼šå¼€å‘è€…åªå†™ä¸šåŠ¡ä»£ç ï¼ˆå‡½æ•°ï¼‰ï¼Œä¸å…³å¿ƒæœåŠ¡å™¨åœ¨å“ªã€æœ‰å¤šå°‘å°ã€æ€ä¹ˆæ‰©å®¹ã€‚äº‘å¹³å°è‡ªåŠ¨è°ƒåº¦èµ„æºï¼ŒæŒ‰å®é™…æ‰§è¡Œæ—¶é—´ä»˜è´¹ã€‚',
    pains: [
      'å†·å¯åŠ¨å»¶è¿Ÿï¼šç¬¬ä¸€å®¶åº—æ¥å•æ—¶å¯èƒ½éœ€è¦çƒ­èº«ï¼ˆå†·å¯åŠ¨ï¼‰ï¼Œå®¢äººè¦ç­‰',
      'å¹³å°ä¾èµ–ï¼šå®Œå…¨ä¾èµ–å¤–å–å¹³å°ï¼ˆäº‘å‚å•†ï¼‰ï¼Œè¿ç§»æˆæœ¬é«˜',
      'èµ„æºé™åˆ¶ï¼šä¸èƒ½åšå¤ªå¤æ‚çš„èœå“ï¼ˆå‡½æ•°æœ‰æ—¶é•¿å’Œå†…å­˜é™åˆ¶ï¼‰'
    ]
  }
]
</script>

<style scoped>
.evolution-intro-demo {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 16px;
  padding: 32px;
  color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

.intro-header {
  text-align: center;
  margin-bottom: 32px;
}

.intro-header h3 {
  font-size: 24px;
  font-weight: 700;
  margin: 0 0 8px 0;
}

.intro-header p {
  font-size: 14px;
  opacity: 0.9;
  margin: 0;
}

.timeline-cards {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
  margin-bottom: 24px;
}

.stage-card {
  background: rgba(255, 255, 255, 0.1);
  border: 2px solid transparent;
  border-radius: 12px;
  padding: 16px 12px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s ease;
}

.stage-card:hover {
  background: rgba(255, 255, 255, 0.15);
  transform: translateY(-2px);
}

.stage-card.active {
  background: rgba(255, 255, 255, 0.25);
  border-color: rgba(255, 255, 255, 0.5);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
}

.stage-era {
  font-size: 11px;
  opacity: 0.7;
  margin-bottom: 4px;
}

.stage-icon {
  font-size: 32px;
  margin-bottom: 8px;
}

.stage-name {
  font-size: 14px;
  font-weight: 600;
  margin-bottom: 2px;
}

.stage-arch {
  font-size: 11px;
  opacity: 0.7;
}

.stage-detail {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 12px;
  padding: 24px;
}

.detail-panel {
  animation: fadeIn 0.4s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.detail-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 20px;
  padding-bottom: 16px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.detail-icon {
  font-size: 32px;
}

.detail-header h4 {
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.detail-content {
  display: grid;
  gap: 16px;
}

.detail-section h5 {
  font-size: 14px;
  font-weight: 600;
  margin: 0 0 8px 0;
  color: #ffd700;
}

.detail-section p {
  font-size: 13px;
  line-height: 1.6;
  margin: 0;
  opacity: 0.9;
}

.detail-section ul {
  margin: 0;
  padding-left: 18px;
}

.detail-section li {
  font-size: 13px;
  line-height: 1.6;
  margin-bottom: 4px;
  opacity: 0.9;
}

.fade-enter-active,
.fade-leave-active {
  transition: all 0.4s ease;
}

.fade-enter-from {
  opacity: 0;
  transform: translateX(20px);
}

.fade-leave-to {
  opacity: 0;
  transform: translateX(-20px);
}

@media (max-width: 768px) {
  .timeline-cards {
    grid-template-columns: repeat(2, 1fr);
  }

  .stage-detail {
    padding: 16px;
  }
}
</style>
